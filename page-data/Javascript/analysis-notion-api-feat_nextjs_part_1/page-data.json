{"componentChunkName":"component---src-templates-blog-post-js","path":"/Javascript/analysis-notion-api-feat_nextjs_part_1/","result":{"data":{"site":{"siteMetadata":{"author":"JaeSeoKim","comment":{"utterances":"JaeSeoKim/jaeseokim.github.io"},"sponsor":{"buyMeACoffeeId":"jaeseokim"}}},"markdownRemark":{"excerpt":"최근에 Noiton API Beta로 오픈이 되어서 한번 Notion를 CMS로 하는 사이트를 개발 할려고 하다가 생각 보다 지원하는 기능이 적어서 분석하는 글을 작성하게 되었습니다. 글을 작성하면서 참고하게된 Reference는 다음과 같습니다. 🔗 https://samuelkraft.com/blog/building-a-notion-blog-with-p…","html":"<p>최근에 Noiton API Beta로 오픈이 되어서 한번 Notion를 CMS로 하는 사이트를 개발 할려고 하다가 생각 보다 지원하는 기능이 적어서 분석하는 글을 작성하게 되었습니다.</p>\n<p>글을 작성하면서 참고하게된 Reference는 다음과 같습니다.</p>\n<blockquote>\n<p>🔗 <a href=\"https://samuelkraft.com/blog/building-a-notion-blog-with-public-api\">https://samuelkraft.com/blog/building-a-notion-blog-with-public-api</a></p>\n</blockquote>\n<h3 id=\"notion-api-발급-하기\" style=\"position:relative;\"><a href=\"#notion-api-%EB%B0%9C%EA%B8%89-%ED%95%98%EA%B8%B0\" aria-label=\"notion api 발급 하기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notion API 발급 하기</h3>\n<p>일단 처음으로 Notion API를 사용하기 위해서는 integration 생성을 해야 하기 때문에 아래의 사이트로 들어가서 발급 받습니다.</p>\n<blockquote>\n<p>🔗 <a href=\"https://www.notion.so/my-integrations\">https://www.notion.so/my-integrations</a></p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 103%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQ4y4VTaW/TQBDtL0dC/AgQ/4GAyjdSF7fOyaGQBqmlCESomzhNfXu9673M89FiHCdEk9Xset/Mm5m3R0ryjKU0TeIoFILnB35atuxoOh0PB5Zh9IeD8+tvV58/fRyNBl8Xc/O9YZ2bk/HwDN5J/8N0QlOCAFqJv+DFxXw8GuIz7l3Mv+DSqdFHiMl4ZJy8e/O6Z1mmaZ5a1hmjO2AcwcAcBockEc8ojDEiOEM5nFOShPiEbZs2/giGymGPTmVSZI9+M2ETrPK8NDj1qdrt1S6yAAe+e7dZb5xVSuIyik7i4OpycXuz/H59+Xv5E+t6ZbeqrcEYVFUwSBZHuWJpsvz1w3O369WNs7Zv7eX91impddCWD7Rl5aeUbl03IYRLqQvGudSaSclEYbRYRQPctFyh0Y7jrGzb84OYsjAhUUoT8HsAU74PrKUSGaaitRQi41lRESa3O6fuzLjqufeExFLyutW1/RespRQ8DH3f91IopBRMxijk0i2SNm0JZRFgoDYoTPAKn8oaLA6BUer2bgPDQ2OU/iOVwtRh2hloh2GQZYwBTTE7yJ5iC1HgbcHZ2zDUFoV+FAUxVkQJPEpigUlxVr18VLE3c7e2KyHVO32oYdA5MlSvtXywqFwhrWEYr3q92WxWRFCimzbmDLbotiwFUwwp19g+f/HyydNnx8dvAUaOTtqyIQzVUH6b9h//7bmjhE5SHwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20210722195714233\"\n        title=\"image-20210722195714233\"\n        src=\"/static/da0dd117b0ca554626c9dcf149951f38/c1b63/image-20210722195714233.png\"\n        srcset=\"/static/da0dd117b0ca554626c9dcf149951f38/5a46d/image-20210722195714233.png 300w,\n/static/da0dd117b0ca554626c9dcf149951f38/0a47e/image-20210722195714233.png 600w,\n/static/da0dd117b0ca554626c9dcf149951f38/c1b63/image-20210722195714233.png 1200w,\n/static/da0dd117b0ca554626c9dcf149951f38/81315/image-20210722195714233.png 1656w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>integration를 발급 받은 후 이제 해당 Notion의 Page의 접근 권한을 주기 위해 사용할 Page에 Share를 눌러서 발급 받은 integration를 초대 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1128px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 116.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAABYlAAAWJQFJUiTwAAABAklEQVQ4y+2U3U7DIBSA+5y+hr2rF847bUfszwt4ZeJovZDu1icw8S22NJW5MaClQD21s2l2oZkmMyZ+OYFzCB8kBHAmk/P5PM9zMgSUfYwhOSHkAfrw9v7iBl/PCEJTJ45jrVVVCQilZF2LPheCwXjbYa01XGwFZ8Y0Z0/lyePy9JnfYeyEYSil4HwL0zln0CqlmmaIgV2pVA3zYUmMZ04URbKSZVkWRbFcLCil7afYttVaQ5JlWSdDxtiG0pfX1WqzXn8pN3vyQezv3J2JMfadg+Uf7XxsOU3Tf/lo8h+9JL8rJ0nSP8nvyK7rIoSuRlx+AGlf+b4/HREEAfx8nue9AYWn+gDZxBgIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20210722200032340\"\n        title=\"image-20210722200032340\"\n        src=\"/static/d3c8a96fe2251cc09c4abae065dff2bd/7bf07/image-20210722200032340.png\"\n        srcset=\"/static/d3c8a96fe2251cc09c4abae065dff2bd/5a46d/image-20210722200032340.png 300w,\n/static/d3c8a96fe2251cc09c4abae065dff2bd/0a47e/image-20210722200032340.png 600w,\n/static/d3c8a96fe2251cc09c4abae065dff2bd/7bf07/image-20210722200032340.png 1128w\"\n        sizes=\"(max-width: 1128px) 100vw, 1128px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>이제 Token 발급 까지 끝냈으니 분석을 하기 위해 프로젝트를 세팅합니다.</p>\n<p>분석하는 프로젝트 환경은 원래 간단한 CMS Front를 구축 할 예정이여서 <code>Next.js</code> 위에서 작업을 하였습니다.</p>\n<p>아래의 명령어를 이용하여 <code>notion-js sdk</code> 를 설치 합니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"sh\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">npm install @notionhq/client</span></span></span></code></pre>\n<p>그리고 아래와 같이 <code>.env.local</code> 를 아래와 같이 설정하여 <code>Token</code> , <code>PageId</code>, <code>DatabaseId</code> 등을 추가 합니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">NOTION_ACCESS_TOKEN=</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">NOTION_INDEX_PAGE=</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">NOTION_DATABASE=</span></span></code></pre>\n<p>이제 드디어 간단한 Notion API 관련 작업을 수행하는 <code>ts</code> 파일을 하나 작성을 합니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"typescript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// notion.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">Client</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">notion</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Client</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">auth</span><span class=\"mtk1\">: </span><span class=\"mtk4\">process</span><span class=\"mtk1\">.</span><span class=\"mtk7\">env</span><span class=\"mtk1\">.</span><span class=\"mtk4\">NOTION_TOKEN</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getPage</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">async</span><span class=\"mtk1\"> (</span><span class=\"mtk4 mtki\">pageId</span><span class=\"mtk1\">: </span><span class=\"mtk11\">string</span><span class=\"mtk1\">) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">response</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">notion</span><span class=\"mtk1\">.</span><span class=\"mtk11\">pages</span><span class=\"mtk1\">.</span><span class=\"mtk3\">retrieve</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">page_id</span><span class=\"mtk1\">: </span><span class=\"mtk4\">pageId</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">response</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>현재 Notion API는 4가지의 대표적인 Endpoint를 제공을 합니다.</p>\n<p><code>Database</code> , <code>Page</code>, <code>Block</code> , <code>User</code> 로 Database 내부에 항목을 추가하거나 Page의 Block를 수정하는 등 다양한 기능을 할 수 있습니다.</p>\n<p>일단 첫 번째로 분석을 할 부분은 <code>notion.pages.retrieve</code> (<a href=\"https://api.notion.com/v1/pages/page_id\">https://api.notion.com/v1/pages/page_id</a>) 를 응답을 분석합니다.</p>\n<blockquote>\n<p>🔗 <a href=\"https://developers.notion.com/reference/get-page\">https://developers.notion.com/reference/get-page</a></p>\n</blockquote>\n<h3 id=\"notion-page-title-정보-가져오기\" style=\"position:relative;\"><a href=\"#notion-page-title-%EC%A0%95%EB%B3%B4-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"notion page title 정보 가져오기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notion Page Title 정보 가져오기!</h3>\n<p>이 API는 해당 Page의 기본적인 data를 반환하게 되는데 <code>Database</code> 객체가 부모일 경우 해당 객체가 가리키고 있는 여러가지 <code>properties</code> 를 반환하게 됩니다.</p>\n<p>만약 <code>Database</code> 가 아닌 경우에는 기본적으로 <code>title</code> 만 가지게 되는데 해당 객체는 <code>rich_text</code> object를 Array로 가지게 됩니다.</p>\n<p>이걸 이용하여서 page 객체에서 title을 문자열로 가져오는 함수를 만든다면 아래와 같이 완성할 수 있습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"tsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">PagesRetrieveResponse</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client/build/src/api-endpoints&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">RichText</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">TitlePropertyValue</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">} </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client/build/src/api-types&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getTitleFromPage</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4 mtki\">page</span><span class=\"mtk1\">: </span><span class=\"mtk11\">PagesRetrieveResponse</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4 mtki\">titleKey</span><span class=\"mtk1\">: </span><span class=\"mtk11\">string</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;Name&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">let</span><span class=\"mtk1\"> </span><span class=\"mtk4\">title</span><span class=\"mtk1\">: </span><span class=\"mtk11\">RichText</span><span class=\"mtk1\">[] </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> []</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">page</span><span class=\"mtk1\">.</span><span class=\"mtk11\">parent</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk8\">===</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;page_id&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">||</span><span class=\"mtk1\"> </span><span class=\"mtk11\">page</span><span class=\"mtk1\">.</span><span class=\"mtk11\">parent</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk8\">===</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;workspace&quot;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">title</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">page</span><span class=\"mtk1\">.</span><span class=\"mtk11\">properties</span><span class=\"mtk1\">.</span><span class=\"mtk4\">title</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk11\">TitlePropertyValue</span><span class=\"mtk1\">).</span><span class=\"mtk4\">title</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  } </span><span class=\"mtk10\">else</span><span class=\"mtk1\"> </span><span class=\"mtk10\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">page</span><span class=\"mtk1\">.</span><span class=\"mtk11\">parent</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk8\">===</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;database_id&quot;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">title</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">page</span><span class=\"mtk1\">.</span><span class=\"mtk4\">properties</span><span class=\"mtk1\">[</span><span class=\"mtk4\">titleKey</span><span class=\"mtk1\">] </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk11\">TitlePropertyValue</span><span class=\"mtk1\">).</span><span class=\"mtk4\">title</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> </span><span class=\"mtk11\">title</span><span class=\"mtk1\">.</span><span class=\"mtk3\">map</span><span class=\"mtk1\">(({ </span><span class=\"mtk4 mtki\">plain_text</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk4\">plain_text</span><span class=\"mtk1\">).</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><code>@notionhq/client</code> 내부에 미리 사전에 typedef이 되어 있기 때문에 <code>import</code> 하여 구현을 하였습니다.</p>\n<p>기본적으로 <code>Database</code> 객체에서의 <code>titleKey</code> 같은 경우에는 기본 값이 <code>Name</code> 으로 설정이 되어 있기 때문에 기본값을 설정해주었습니다.</p>\n<p>그리고 최종적으로 구해진 <code>RichText</code> 객체 리스트를 plain_text만 추출하여 join 하여 반환 하도록 하였습니다.</p>\n<p>이제 간단한 Page 객체에서 title를 가져오는 부분을 구현 하였으니 이제 block를 이용하여 내용을 렌더링 하는 부분을 분석하였습니다.</p>\n<h3 id=\"notion-block-component-만들기\" style=\"position:relative;\"><a href=\"#notion-block-component-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"notion block component 만들기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notion Block Component 만들기!</h3>\n<p>일단 Block Component를 만들기 위해서는 Block를 가져오는 함수가 있어야 하므로 아래와 같이 PageId에게 종속된 Block를 가져오는 함수를 작성 했습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"typescript\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getBlocks</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">async</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4 mtki\">blockId</span><span class=\"mtk1\">: </span><span class=\"mtk11\">string</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4 mtki\">start_cursor</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4 mtki\">page_size</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">start_cursor</span><span class=\"mtk10\">?</span><span class=\"mtk1\">: </span><span class=\"mtk11\">string</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">page_size</span><span class=\"mtk1\">: </span><span class=\"mtk11\">number</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">page_size</span><span class=\"mtk1\">: </span><span class=\"mtk7\">50</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">response</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">notion</span><span class=\"mtk1\">.</span><span class=\"mtk11\">blocks</span><span class=\"mtk1\">.</span><span class=\"mtk11\">children</span><span class=\"mtk1\">.</span><span class=\"mtk3\">list</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">block_id</span><span class=\"mtk1\">: </span><span class=\"mtk4\">blockId</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">page_size</span><span class=\"mtk1\">: </span><span class=\"mtk4\">page_size</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">start_cursor</span><span class=\"mtk1\">: </span><span class=\"mtk4\">start_cursor</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> </span><span class=\"mtk11\">response</span><span class=\"mtk1\">.</span><span class=\"mtk4\">results</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>이제 Block 객체가 가지고 있는 것들에 대해서 분석을 해봅니다.</p>\n<p><a href=\"https://developers.notion.com/reference/block\">공식 문서</a>에서 알려주기로는 <code>paragraph</code>, <code>heading_1</code>, <code>heading_2</code>, <code>heading_3</code>, <code>bulleted_list_item</code>, <code>numbered_list_item</code>, <code>to_do</code>, <code>toggle</code>, <code>child_page</code>, <code>unsupported</code> type들을 반환 한다고 합니다.</p>\n<p>이 때 type에 따라 <code>children</code> 여부와 부모 <code>tag</code>가 달라지게 되고 <code>unsupported</code> 제외한 모든 type들은 <code>RichText</code> 배열을 가지게 됩니다.</p>\n<p>그렇다면 <code>RichText</code> 컴포넌트를 먼저 구현을 해야하기 때문에 <a href=\"https://developers.notion.com/reference/rich-text\">공식문서</a>를 보면서 아래와 같이 구현을 하였습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"tsx\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">React</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">RichText</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">RichTextType</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client/build/src/api-types&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">styles</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./RichText.module.scss&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Text</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./Text&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Equation</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./Equation&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Mention</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./Mention&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">SwitchRichTextProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk11\">RichTextType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">SwitchRichText</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">SwitchRichTextProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">value</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">switch</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">value</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;text&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">Text</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;mention&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">Mention</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;equation&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">Equation</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">RichTextProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk11\">RichTextType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">RichText</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">RichTextProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">value</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk11\">annotations</span><span class=\"mtk1\"> } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">value</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">span</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk4\">richtext</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">styles</span><span class=\"mtk1\">[</span><span class=\"mtk6\">`richtext-</span><span class=\"mtk10\">${</span><span class=\"mtk11\">annotations</span><span class=\"mtk1\">.</span><span class=\"mtk4\">color</span><span class=\"mtk10\">}</span><span class=\"mtk6\">`</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">annotations</span><span class=\"mtk1\">.</span><span class=\"mtk4\">bold</span><span class=\"mtk1\"> </span><span class=\"mtk10\">?</span><span class=\"mtk1\"> </span><span class=\"mtk4\">styles</span><span class=\"mtk1\">[</span><span class=\"mtk6\">&quot;richtext-bold&quot;</span><span class=\"mtk1\">] </span><span class=\"mtk10\">:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">annotations</span><span class=\"mtk1\">.</span><span class=\"mtk4\">italic</span><span class=\"mtk1\"> </span><span class=\"mtk10\">?</span><span class=\"mtk1\"> </span><span class=\"mtk4\">styles</span><span class=\"mtk1\">[</span><span class=\"mtk6\">&quot;richtext-italic&quot;</span><span class=\"mtk1\">] </span><span class=\"mtk10\">:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">annotations</span><span class=\"mtk1\">.</span><span class=\"mtk4\">underline</span><span class=\"mtk1\"> </span><span class=\"mtk10\">?</span><span class=\"mtk1\"> </span><span class=\"mtk4\">styles</span><span class=\"mtk1\">[</span><span class=\"mtk6\">&quot;richtext-underline&quot;</span><span class=\"mtk1\">] </span><span class=\"mtk10\">:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">annotations</span><span class=\"mtk1\">.</span><span class=\"mtk4\">strikethrough</span><span class=\"mtk1\"> </span><span class=\"mtk10\">?</span><span class=\"mtk1\"> </span><span class=\"mtk4\">styles</span><span class=\"mtk1\">[</span><span class=\"mtk6\">&quot;richtext-strikethrough&quot;</span><span class=\"mtk1\">] </span><span class=\"mtk10\">:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">annotations</span><span class=\"mtk1\">.</span><span class=\"mtk4\">code</span><span class=\"mtk1\"> </span><span class=\"mtk10\">?</span><span class=\"mtk1\"> </span><span class=\"mtk4\">styles</span><span class=\"mtk1\">[</span><span class=\"mtk6\">&quot;richtext-code&quot;</span><span class=\"mtk1\">] </span><span class=\"mtk10\">:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        .</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        .</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk11\">SwitchRichText</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">RichText</span></span></span></code></pre>\n<p>일단 공통적으로 사용이 되는 <code>annotations</code> 에 관한 styling를 부모쪽에서 처리를 한다음 <code>SwitchRichText</code> 구현 하여 해당 <code>type</code> 에 맞는 Component를 렌더링 하도록 구현을 하였습니다.</p>\n<p>가장 일반적인 <code>text</code> type의 경우에는 간단한 <code>link</code> 여부를 확인 하여 rendering를 하도록 하였습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"tsx\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">RichTextText</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client/build/src/api-types&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">React</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">TextProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk11\">RichTextText</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Text</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">TextProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">value</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk11\">text</span><span class=\"mtk1\"> } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">value</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">text</span><span class=\"mtk1\">.</span><span class=\"mtk4\">link</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk4\">a</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">href</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk11\">text</span><span class=\"mtk1\">.</span><span class=\"mtk11\">link</span><span class=\"mtk1\">.</span><span class=\"mtk4\">url</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">target</span><span class=\"mtk8\">=</span><span class=\"mtk6\">&quot;_blank&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">rel</span><span class=\"mtk8\">=</span><span class=\"mtk6\">&quot;noopener noreferrer&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">{</span><span class=\"mtk11\">text</span><span class=\"mtk1\">.</span><span class=\"mtk4\">content</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;/</span><span class=\"mtk4\">a</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;&gt;</span><span class=\"mtk10\">{</span><span class=\"mtk11\">text</span><span class=\"mtk1\">.</span><span class=\"mtk4\">content</span><span class=\"mtk10\">}</span><span class=\"mtk1\">&lt;/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Text</span></span></span></code></pre>\n<p><code>equation</code> type의 경우에는 간단하게 katex를 사용하는 라이브러리를 이용하여 rendering 하는 컴포넌트를 구현하였습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"tsx\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">React</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;katex/dist/katex.min.css&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">TeX</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@matejmazur/react-katex&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">RichTextEquation</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client/build/src/api-types&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">EquationProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk11\">RichTextEquation</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Equation</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">EquationProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">value</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">TeX</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">math</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk11\">value</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equation</span><span class=\"mtk1\">.</span><span class=\"mtk4\">expression</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Equation</span></span></span></code></pre>\n<p>마지막인 <code>mention</code> 같은 경우에는 아직 API가 Beta인 점과 오류가 많아서 일부분을 강제로 type를 재정의 하여 구현을 하였습니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"tsx\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">DatabaseMention</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">DatabaseMentionType</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">DateMention</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">DateMentionType</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">DatePropertyValue</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">PageMention</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">PageMentionType</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">RichTextMention</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">RichTextMention</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">UserMention</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">UserMentionType</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">} </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client/build/src/api-types&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">React</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Image</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;next/image&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">styles</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./Mention.module.scss&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">dayjs</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;dayjs&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">data</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;autoprefixer&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserMentionProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">mention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">UserMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">UserMention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">UserMentionProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">mention</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk11\">user</span><span class=\"mtk1\"> } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">mention</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span><span class=\"mtk11\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk4\">mention</span><span class=\"mtk1\">].</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">).</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">{</span><span class=\"mtk11\">user</span><span class=\"mtk1\">.</span><span class=\"mtk4\">avatar_url</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&amp;&amp;</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        &lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk11\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk4\">avatar</span><span class=\"mtk10\">}</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          &lt;</span><span class=\"mtk11\">Image</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7 mtki\">src</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk11\">user</span><span class=\"mtk1\">.</span><span class=\"mtk4\">avatar_url</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7 mtki\">alt</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk6\">`</span><span class=\"mtk10\">${</span><span class=\"mtk11\">user</span><span class=\"mtk1\">?.</span><span class=\"mtk4\">name</span><span class=\"mtk10\">}</span><span class=\"mtk6\"> profile image`</span><span class=\"mtk1\">.</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7 mtki\">width</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk7\">24</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7 mtki\">height</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk7\">24</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7 mtki\">layout</span><span class=\"mtk8\">=</span><span class=\"mtk6\">&quot;fixed&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        &lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      )</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">{</span><span class=\"mtk11\">user</span><span class=\"mtk1\">.</span><span class=\"mtk4\">name</span><span class=\"mtk1\"> </span><span class=\"mtk10\">?</span><span class=\"mtk1\"> </span><span class=\"mtk11\">user</span><span class=\"mtk1\">.</span><span class=\"mtk4\">name</span><span class=\"mtk1\"> </span><span class=\"mtk10\">:</span><span class=\"mtk1\"> </span><span class=\"mtk11\">user</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">DatabaseMentionProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">mention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">DatabaseMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">DatabaseMention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">DatabaseMentionProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">mention</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk11\">database</span><span class=\"mtk1\"> } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">mention</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">span</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span><span class=\"mtk11\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk4\">database</span><span class=\"mtk1\">].</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">).</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7 mtki\">title</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk6\">`database-</span><span class=\"mtk10\">${</span><span class=\"mtk11\">database</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk10\">}</span><span class=\"mtk6\">`</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">{</span><span class=\"mtk11\">database</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">DateMentionProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">mention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">DateMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">DateMention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">DateMentionProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">mention</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk11\">date</span><span class=\"mtk1\"> } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">mention</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk11\">unknown</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk11\">DatePropertyValue</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">startAt</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">dayjs</span><span class=\"mtk1\">(</span><span class=\"mtk11\">date</span><span class=\"mtk1\">.</span><span class=\"mtk4\">start</span><span class=\"mtk1\">).</span><span class=\"mtk3\">format</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;DD/MM YYYY mm:ss&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">date</span><span class=\"mtk1\">.</span><span class=\"mtk4\">end</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">endAt</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">dayjs</span><span class=\"mtk1\">(</span><span class=\"mtk11\">date</span><span class=\"mtk1\">.</span><span class=\"mtk4\">end</span><span class=\"mtk1\">).</span><span class=\"mtk3\">format</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;DD/MM YYYY mm:ss&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk4\">span</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span><span class=\"mtk11\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk4\">mention</span><span class=\"mtk1\">].</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">).</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">title</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk6\">`</span><span class=\"mtk10\">${</span><span class=\"mtk4\">startAt</span><span class=\"mtk10\">}</span><span class=\"mtk6\">-</span><span class=\"mtk10\">${</span><span class=\"mtk4\">endAt</span><span class=\"mtk10\">}</span><span class=\"mtk6\">`</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">{</span><span class=\"mtk4\">startAt</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> → </span><span class=\"mtk10\">{</span><span class=\"mtk4\">endAt</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span><span class=\"mtk11\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk4\">mention</span><span class=\"mtk1\">].</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">).</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">title</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk6\">`</span><span class=\"mtk10\">${</span><span class=\"mtk4\">startAt</span><span class=\"mtk10\">}</span><span class=\"mtk6\">`</span><span class=\"mtk10\">}</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">{</span><span class=\"mtk4\">startAt</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">PageMentionProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">mention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">PageMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">PageMention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">PageMentionProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">mention</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk11\">page</span><span class=\"mtk1\"> } </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">mention</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span><span class=\"mtk11\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk4\">page</span><span class=\"mtk1\">].</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">).</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">title</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk6\">`page-</span><span class=\"mtk10\">${</span><span class=\"mtk11\">page</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk10\">}</span><span class=\"mtk6\">`</span><span class=\"mtk10\">}</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">{</span><span class=\"mtk11\">page</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">MentionSwitchProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">mention</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    | </span><span class=\"mtk11\">UserMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">|</span><span class=\"mtk1\"> </span><span class=\"mtk4\">PageMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">|</span><span class=\"mtk1\"> </span><span class=\"mtk4\">DatabaseMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">|</span><span class=\"mtk1\"> </span><span class=\"mtk4\">DateMentionType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">MentionSwitch</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">MentionSwitchProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">mention</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">switch</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">mention</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;user&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">UserMention</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">mention</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">mention</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;database&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">DatabaseMention</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">mention</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">mention</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;page&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">PageMention</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">mention</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">mention</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;date&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">DateMention</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">mention</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">mention</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">MentionProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk11\">RichTextMention</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Mention</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">MentionProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">value</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">MentionSwitch</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">mention</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk11\">value</span><span class=\"mtk1\">.</span><span class=\"mtk4\">mention</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Mention</span></span></span></code></pre>\n<p><code>notion-js-sdk</code> 가 응답해주는 값과 type 선언된 부분이 <code>DateMention</code> 부분에서 문제가 있어서 <code>const { date } = mention as unknown as DatePropertyValue;</code> 형태로 강제로 재정의를 하여 사용을 하였습니다. (<a href=\"https://github.com/makenotion/notion-sdk-js/issues/154\">관련 이슈 링크</a>)</p>\n<p>또한 Database, page의 경우에는 응답해주는 값이 id 만을 반환하기 때문에 이걸 가지고 실 프로젝트를 하기 위해서는 해당 처리를 할 수 있는 API EndPoint를 구현 해야 할 것 으로 보입니다.</p>\n<p><code>RichText</code> 에 대해서 다 구현을 하였으니 이제 <code>Block</code> 를 구현 해봅니다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"tsx\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">React</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">Block</span><span class=\"mtk1\"> </span><span class=\"mtk10\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">BlockType</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@notionhq/client/build/src/api-types&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Paragraph</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./Paragraph&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">HeadingOne</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./HeadingOne&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">HeadingTwo</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./HeadingTwo&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">HeadingThree</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./HeadingThree&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">BulletedListItem</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./BulletedListItem&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">NumberedListItem</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./NumberedListItem&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">ToDo</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./ToDo&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Toggle</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./Toggle&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">ChildPage</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./ChildPage&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk11\">BlockProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">value</span><span class=\"mtk1\">: </span><span class=\"mtk11\">BlockType</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">Block</span><span class=\"mtk1\">: </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk11\">FC</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">BlockProps</span><span class=\"mtk1\">&gt; </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({ </span><span class=\"mtk4 mtki\">value</span><span class=\"mtk1\"> }) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">switch</span><span class=\"mtk1\"> (</span><span class=\"mtk11\">value</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;paragraph&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">Paragraph</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;heading_1&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">HeadingOne</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;heading_2&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">HeadingTwo</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;heading_3&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">HeadingThree</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;bulleted_list_item&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">BulletedListItem</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;numbered_list_item&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">NumberedListItem</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;to_do&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">ToDo</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;toggle&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">Toggle</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">case</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;child_page&quot;</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk11\">ChildPage</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">value</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">default</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk11\">console</span><span class=\"mtk1\">.</span><span class=\"mtk3\">info</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk6\">`ℹ️ Unsupported block (</span><span class=\"mtk10\">${</span><span class=\"mtk11\">value</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk10\">}</span><span class=\"mtk6\">) - https://developers.notion.com/reference/block`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk4\">p</span><span class=\"mtk1\">&gt;ℹ️ Unsupported block (</span><span class=\"mtk10\">{</span><span class=\"mtk11\">value</span><span class=\"mtk1\">.</span><span class=\"mtk4\">type</span><span class=\"mtk10\">}</span><span class=\"mtk1\">)&lt;/</span><span class=\"mtk4\">p</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Block</span></span></span></code></pre>\n<p>위와 같이 해당 Type에 대한 적절한 부모 <code>tag</code>와 <code>children</code>를 가지게 하는 <code>Component</code>를 구현 하고 <code>Block</code> Component에서 switch를 통해 해당 type를 렌더링 하도록 하였습니다.</p>\n<p>이때 애매한 부분중 하나가 <code>list_item</code> 에 대한 부분인데 Block에 대한 list가 반환되는 것이기 때문에 <code>list_item</code> 이 연속으로 오게된다면 부모에서 적절한 <code>ol</code>, <code>ul</code> 를 감싸도록 해야 하는데 <code>Block</code> Component 는 단순히 하나의 block 만을 대응 할 수 있기 때문에 list를 정확하게 보이게 할려면 감싸는 상위 Component를 만들어야 한다는 문제점이 있었습니다.</p>\n<h3 id=\"nextjs-ssg를-이용한-rendering-하기\" style=\"position:relative;\"><a href=\"#nextjs-ssg%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-rendering-%ED%95%98%EA%B8%B0\" aria-label=\"nextjs ssg를 이용한 rendering 하기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js SSG를 이용한 Rendering 하기!</h3>\n<p>이제 Next.js의 <code>SSG</code> 를 이용하여 Rendering를 합니다..!</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"tsx\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">GetStaticPropsContext</span><span class=\"mtk1\">, </span><span class=\"mtk4\">InferGetStaticPropsType</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;next&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Head</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;next/head&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">Block</span><span class=\"mtk1\"> </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;../components/notion/Block&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">getBlocks</span><span class=\"mtk1\">, </span><span class=\"mtk4\">getPage</span><span class=\"mtk1\">, </span><span class=\"mtk4\">getTitleFromPage</span><span class=\"mtk1\"> } </span><span class=\"mtk10\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;../lib/notion&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getStaticProps</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">async</span><span class=\"mtk1\"> (</span><span class=\"mtk4 mtki\">ctx</span><span class=\"mtk1\">: </span><span class=\"mtk11\">GetStaticPropsContext</span><span class=\"mtk1\">) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk10\">typeof</span><span class=\"mtk1\"> </span><span class=\"mtk4\">process</span><span class=\"mtk1\">.</span><span class=\"mtk7\">env</span><span class=\"mtk1\">.</span><span class=\"mtk4\">NOTION_INDEX_PAGE</span><span class=\"mtk1\"> </span><span class=\"mtk8\">!==</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;string&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk10\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;Missing NOTION_INDEX_PAGE environment variable&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">page</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">await</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getPage</span><span class=\"mtk1\">(</span><span class=\"mtk4\">process</span><span class=\"mtk1\">.</span><span class=\"mtk7\">env</span><span class=\"mtk1\">.</span><span class=\"mtk4\">NOTION_INDEX_PAGE</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">blocks</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">await</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getBlocks</span><span class=\"mtk1\">(</span><span class=\"mtk4\">process</span><span class=\"mtk1\">.</span><span class=\"mtk7\">env</span><span class=\"mtk1\">.</span><span class=\"mtk4\">NOTION_INDEX_PAGE</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">props</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">page</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">blocks</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">revalidate</span><span class=\"mtk1\">: </span><span class=\"mtk7\">10</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">indexPage</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> ({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">page</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">blocks</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}: </span><span class=\"mtk11\">InferGetStaticPropsType</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">typeof</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getStaticProps</span><span class=\"mtk1\">&gt;) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">title</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getTitleFromPage</span><span class=\"mtk1\">(</span><span class=\"mtk4\">page</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">div</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span><span class=\"mtk6\">&quot;container&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;px-2&quot;</span><span class=\"mtk1\">].</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">).</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7 mtki\">style</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">marginLeft</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;auto&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">marginRight</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;auto&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk11\">Head</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        &lt;</span><span class=\"mtk4\">title</span><span class=\"mtk1\">&gt;</span><span class=\"mtk10\">{</span><span class=\"mtk4\">title</span><span class=\"mtk10\">}</span><span class=\"mtk1\">&lt;/</span><span class=\"mtk4\">title</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;/</span><span class=\"mtk11\">Head</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk4\">article</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        &lt;</span><span class=\"mtk4\">h1</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk1\">[</span><span class=\"mtk6\">&quot;text-4xl&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;py-3&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;font-bold&quot;</span><span class=\"mtk1\">].</span><span class=\"mtk3\">join</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot; &quot;</span><span class=\"mtk1\">).</span><span class=\"mtk3\">trim</span><span class=\"mtk1\">()</span><span class=\"mtk10\">}</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk10\">{</span><span class=\"mtk4\">title</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        &lt;/</span><span class=\"mtk4\">h1</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        &lt;</span><span class=\"mtk4\">hr</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">{</span><span class=\"mtk11\">blocks</span><span class=\"mtk1\">.</span><span class=\"mtk3\">map</span><span class=\"mtk1\">((</span><span class=\"mtk4 mtki\">block</span><span class=\"mtk1\">) </span><span class=\"mtk10\">=&gt;</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          &lt;</span><span class=\"mtk11\">Block</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">key</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk11\">block</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk10\">{</span><span class=\"mtk4\">block</span><span class=\"mtk10\">}</span><span class=\"mtk1\"> /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ))</span><span class=\"mtk10\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;/</span><span class=\"mtk4\">article</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">export</span><span class=\"mtk1\"> </span><span class=\"mtk10\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">indexPage</span></span></span></code></pre>\n<p><code>index</code> page를 rendering 하기 위해서 <code>getStaticProps</code> 를 이용하는데 이때 <code>revalidate</code> 옵션을 주어서 특정 초가 지나갈 때마다 새롭게 <code>SSG</code> 를 생성하도록 설정을 합니다.</p>\n<p>이러한 옵션은 <code>npm start</code> 를 이용하였을 때만 작동을 하지만 <code>getserversideprops</code>, <code>getInitialProps</code> 는 매번 동작 해야 하는 반면 서버에서 <code>revalidate</code> 설정한 시간마다 html 파일을 생성 시키고 요청이 아무리 많이 들어와도 미리 만들어진 <code>html</code> 정적 파일만을 전달 하면 되기 때문에 서버 비용 부분에서 매우 효과적일 수 있습니다..</p>\n<p>이제 간단하게 만든 Page와 실제 Notion Page와 비교를 해봅니다...!!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQ0lEQVQoz52Rz0sCQRTH58/tUofoEFEUYUYgKlREFlG5mWZBxaYHjY1OXqpLeAoK9uDB3N3Zndl1fm5PLQlaCXy3N/M+3+/7zqC6eVspla6rF+VK2TAM8860Hqxmo3HfaO7sHaczR6v5k5Xs4Vq2kNrKb65vZJaXthcX9udmivOzSHJGoyhOqueXj8va09Xj25nVLtZa59X6zWmpeVBo7eZeM6n3XBoFgW/btlJK/ipoGeMkCD67nbDbibBDfA97jlRyLK3iGIVRH/v+X1tQANjHLhcgpQd6o4ILKWOlBOsjQkiv54yctdaDQa2HsKSUuq7DGEsMJaVAQkjgaRgmwhhjzvlEOJ5QABNKgzACwWlgcCZhBLtM5QxxKP2Oo4dP9RNqNPCfMyGcMwCgFfB7nI8XgUMkhUyEORee5w3+c8LaIPUFgR1pu+qIRZYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20210724083929099\"\n        title=\"image-20210724083929099\"\n        src=\"/static/783c21ede9207ca70d748d16e9f9d496/c1b63/image-20210724083929099.png\"\n        srcset=\"/static/783c21ede9207ca70d748d16e9f9d496/5a46d/image-20210724083929099.png 300w,\n/static/783c21ede9207ca70d748d16e9f9d496/0a47e/image-20210724083929099.png 600w,\n/static/783c21ede9207ca70d748d16e9f9d496/c1b63/image-20210724083929099.png 1200w,\n/static/783c21ede9207ca70d748d16e9f9d496/d61c2/image-20210724083929099.png 1800w,\n/static/783c21ede9207ca70d748d16e9f9d496/97a96/image-20210724083929099.png 2400w,\n/static/783c21ede9207ca70d748d16e9f9d496/242b2/image-20210724083929099.png 5120w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>여기서 여러 문제점이 보이게 되는데 일단 첫번 째인 children block에 대해서 Code 상으로는 구현을 하였으나 실제 응답에서 아직 구현이 안되어 있기 때문에 렌더링이 안되는 것을 볼 수 있습니다.</p>\n<p>또한 위에서 설명한 <code>list item</code> 문제점과 <code>page, database mention</code> 가 보이게 되는 것을 볼 수 있습니다.</p>\n<p>아직 <code>Notion API</code> 가 Beta 여서 제공하는 기능과 미완성된 부분들이 많이 있지만 완성이 되고 나면 Notion API를 가지고 많은 작업들을 할 수 있을 것 같습니다.</p>\n<p>아직 분석을 못한 <code>Database</code> 조회와 수정 기능들은 다음편에서 작성을 해보겠습니다..!!!!</p>\n<blockquote>\n<p>😸 Github Repo : <a href=\"https://github.com/JaeSeoKim/nextjs-notion-api-example\">https://github.com/JaeSeoKim/nextjs-notion-api-example</a></p>\n<p>Original Notion Page: <a href=\"https://www.notion.so/Notion-API-Next-js-INDEX-PAGE-13cb8d2d3328425e815a1896267f5906\">https://www.notion.so/Notion-API-Next-js-INDEX-PAGE-13cb8d2d3328425e815a1896267f5906</a></p>\n<p>Demo Site : <a href=\"https://nextjs-notion-api.vercel.app/\">https://nextjs-notion-api.vercel.app/</a></p>\n</blockquote>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk5 { color: #7F848E; }\n  .one-dark-pro .mtk10 { color: #C678DD; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk7 { color: #D19A66; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li><a href=\"/Javascript/analysis-notion-api-feat_nextjs_part_1/#notion-api-%EB%B0%9C%EA%B8%89-%ED%95%98%EA%B8%B0\">Notion API 발급 하기</a></li>\n<li><a href=\"/Javascript/analysis-notion-api-feat_nextjs_part_1/#notion-page-title-%EC%A0%95%EB%B3%B4-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\">Notion Page Title 정보 가져오기!</a></li>\n<li><a href=\"/Javascript/analysis-notion-api-feat_nextjs_part_1/#notion-block-component-%EB%A7%8C%EB%93%A4%EA%B8%B0\">Notion Block Component 만들기!</a></li>\n<li><a href=\"/Javascript/analysis-notion-api-feat_nextjs_part_1/#nextjs-ssg%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-rendering-%ED%95%98%EA%B8%B0\">Next.js SSG를 이용한 Rendering 하기!</a></li>\n</ul>","frontmatter":{"date":"2021년 07월 24일","title":"Notion API 분석해보기!(feat. Next.js)(1)","tags":["notion","notion-api","next.js"]}}},"pageContext":{"slug":"/Javascript/analysis-notion-api-feat_nextjs_part_1/","previous":{"fields":{"slug":"/Etc/how_to_parse_cmd_in_bash_1/"},"frontmatter":{"title":"[42seoul-minishell] bash에서 cmd를 parsing 하는 방법에 대한 고찰 (1)!"}},"next":{"fields":{"slug":"/Javascript/analysis-notion-api-feat_nextjs_part_2/"},"frontmatter":{"title":"Notion API 분석해보기!(feat. Next.js)(2)"}}}},"staticQueryHashes":["1081905842","63159454"]}