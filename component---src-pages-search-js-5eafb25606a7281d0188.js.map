{"version":3,"sources":["webpack:///./src/components/Tag.js","webpack:///./src/components/Search.js","webpack:///./src/pages/search.js","webpack:///./src/components/Divider.js","webpack:///./src/components/Tags.js"],"names":["Tag","onClick","tag","selectedTag","isDarkMode","useContext","ThemeContext","css","darkModeColor","textColor1","whiteModeColor","Search","value","onChange","location","placeholder","onKeyPress","e","key","target","blur","onBlur","queryString","parseUrl","href","query","trim","navigate","Divider","color","Wrapper","pageQuery","data","posts","allMarkdownRemark","edges","tags","useMemo","result","map","node","frontmatter","i","length","j","splice","useState","filteredData","state","setState","onTagClick","searchPost","useCallback","filter","post","searchQuery","toLowerCase","rawMarkdownBody","title","includes","useEffect","Layout","index","Tags","sort","Post","vertical","margin","fat","mainColor1","mainColor2","mainColor3"],"mappings":"kJAwBeA,IAnBH,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,YACnBC,EAAeC,qBAAWC,KAA1BF,WACR,OACE,sBACEG,IAAKA,YAAF,wPAGCJ,IAAgBD,EAAM,QAAU,mBAHjC,IAICE,EAAU,oBAJX,IAKCD,IAAgBD,EAAhB,2BALD,IAMCE,EAAaI,gBAAcC,WAAaC,iBAAeD,WANxD,KAQHR,QAAS,kBAAMA,EAAQC,KAEtBA,K,quBC2BQS,EAvCA,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAmBjC,OACE,8BACE,mBAAKP,IAAG,GACN,mBAAKA,IAAG,GACN,YAAC,IAAD,CAAiBA,IAAG,IACpB,qBACEA,IAAG,EACHQ,YAAa,eACbH,MAAOA,EACPC,SAAUA,EACVG,WA5BU,SAACC,GACL,UAAVA,EAAEC,KACJD,EAAEE,OAAOC,QA2BHC,OAvBS,SAACJ,GAAO,IAAD,EAGpBK,IAAYC,SAAST,EAASU,MADhCC,MAASA,EAFa,EAEbA,MAAOvB,EAFM,EAENA,IAEduB,IAAUb,EAAMc,SACdxB,GAAe,QAARA,EACTyB,mBAAS,UAAUf,EAAMc,OAAjB,QAA+BxB,GAEvCyB,mBAAS,UAAUf,EAAMc,aAkBzB,YAACE,EAAA,EAAD,CAASC,OAAK,O,oCC7BhBC,EAAO,kI,gFAqHAC,GAnHE,sBAAyB,IAAtBC,EAAqB,EAArBA,KAAMlB,EAAe,EAAfA,SAChBmB,EAAQD,EAAKE,kBAAkBC,MAAQH,EAAKE,kBAAkBC,MAAQ,GACtEC,EAAOC,mBAAQ,WACnB,IAAIC,EAAS,GACbL,EAAMM,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OAAeF,EAAM,sBAAOA,GAAP,YAAkBE,EAAKC,YAAYL,UAClE,IAAK,IAAIM,EAAI,EAAGA,EAAIJ,EAAOK,SAAUD,EACnC,IAAK,IAAIE,EAAIF,EAAI,EAAGE,EAAIN,EAAOK,SAAUC,EACnCN,EAAOI,KAAOJ,EAAOM,IAAIN,EAAOO,OAAOD,IAAK,GAGpD,OAAON,IACN,CAACL,IAXiC,EAaXa,mBAAS,CACjCrB,MAAO,GACPvB,IAAK,MACL6C,aAAc,KAHTC,EAb8B,KAavBC,EAbuB,KAmB/BC,EAAa,SAAChD,GACE,KAAhB8C,EAAMvB,MACRE,mBAAS,UAAUqB,EAAMvB,MAAjB,QAA8BvB,GAEtCyB,mBAAS,QAAQzB,GAEnBiD,EAAWH,EAAMvB,MAAOvB,IAcpBiD,EAAaC,uBACjB,SAAC3B,EAAOvB,GACN,GAAqB,KAAjBuB,EAAMC,OAAV,CASA,IAAMqB,EAAed,EAAMoB,QAAO,SAACC,GACjC,IAAMC,EAAc9B,EAAM+B,cAAc9B,OADE,EAKtC4B,EAAKd,KAFPiB,EAHwC,EAGxCA,gBAHwC,IAIxChB,YAAeiB,EAJyB,EAIzBA,MAAOtB,EAJkB,EAIlBA,KAExB,MAAY,QAARlC,GAOAkC,EAAKuB,SAASzD,GALbuD,GACCA,EAAgBD,cAAcG,SAASJ,IACxCG,GAASA,EAAMF,cAAcG,SAASJ,QAG3C,KAQFN,EAAS,CACP/C,IAAKA,EACLuB,MAAOA,EACPsB,aAAcA,SAhCdE,EAAS,CACPxB,QACAvB,MACA6C,aAAc,OAgCpB,CAACd,IAYH,OATA2B,qBAAU,WACR,GAAI9C,EAASU,KAAM,CAAC,IAAD,EAGbF,IAAYC,SAAST,EAASU,MADhCC,MAASA,EAFM,EAENA,MAAOvB,EAFD,EAECA,IAElBiD,EAAW1B,GAAgB,GAAIvB,GAAY,UAE5C,CAACiD,EAAYrC,EAASU,OAGvB,YAACqC,EAAA,EAAD,KACE,YAAC,IAAD,CAAKH,MAAM,mBACX,YAAC5B,EAAD,KACE,YAAC,EAAD,CACElB,MAAOoC,EAAMvB,MACbZ,SAAU,SAACI,GAnEE,IAACQ,KAmEgBR,EAAEE,OAAOP,OAlEnCc,SAAWsB,EAAMvB,MAAMC,OAOjCyB,EAAW1B,EAAOuB,EAAM9C,KANtB+C,EAAS,OAAD,UACHD,EADG,CAENvB,YAgEEX,SAAUA,IAEZ,mBAAKP,IAAG,GACN,YAACP,EAAA,EAAD,CACEE,IAAK,MACLC,YAAa6C,EAAM9C,IACnB4D,MAAO,UACP7D,QAASiD,IAEX,YAACa,EAAA,EAAD,CAAM3B,KAAMA,EAAK4B,OAAQ/D,QAASiD,EAAYhD,IAAK8C,EAAM9C,OAE1D8C,EAAMD,aAAaR,KAAI,SAACe,EAAMQ,GAAP,OACtB,YAACG,EAAA,EAAD,CAAMX,KAAMA,EAAMpC,IAAG,QAAU4C,UAOnB,e,2GC7EPlC,IA9CC,SAAC,GAAsC,IAApCsC,EAAmC,EAAnCA,SAAUrC,EAAyB,EAAzBA,MAAOsC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,IAClChE,EAAeC,qBAAWC,KAA1BF,WACR,OACE,8BACE,mBACEG,IACE2D,EACI,CAAC,CAAD,sDAAiCC,GAAM,4CACvC,CAAC,CAAD,wCAA0BA,GAAM,6CAGtC,mBACE5D,IAAG,YAAE,CAAC,CAAD,uBAEH6D,EACIF,EAAQ,qGAGRA,EAAQ,6FAGZ9D,EAAU,yJACVyB,GACEtB,YADG,+BAGG2D,EAAW,MAAQ,MAHtB,OAIG9D,EACEI,gBAAc6D,WACd,IACA7D,gBAAc8D,WACd,IACA9D,gBAAc+D,WACd7D,iBAAe2D,WACf,IACA3D,iBAAe4D,WACf,IACA5D,iBAAe6D,WAdpB,e,kCC3BjB,sCAceR,IAXF,SAAC,GAAyC,IAAvC3B,EAAsC,EAAtCA,KAAMnC,EAAgC,EAAhCA,QAAcE,EAAkB,EAAvBD,IAC7B,OAAOkC,EAAKG,KAAI,SAACrC,EAAK4D,GAAN,OACd,YAAC,IAAD,CACE5D,IAAKA,EACLC,YAAaA,EACbe,IAAG,OAAS4C,EACZ7D,QAASA","file":"component---src-pages-search-js-5eafb25606a7281d0188.js","sourcesContent":["import React, { useContext } from \"react\"\nimport tw, { css } from \"twin.macro\"\nimport ThemeContext from \"../lib/context/ThemContext\"\nimport { darkModeColor, whiteModeColor } from \"../../them-color\"\n\nconst Tag = ({ onClick, tag, selectedTag }) => {\n  const { isDarkMode } = useContext(ThemeContext)\n  return (\n    <button\n      css={css`\n        transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);\n        ${tw`text-base font-bold rounded-full mr-2 mb-2 py-1 px-3 focus:outline-none`}\n        ${selectedTag === tag ? \"color\" : \"background-color\"}:\n        ${isDarkMode ? `#2d3748` : `#edf2f7`};\n        ${selectedTag === tag ? `background-color` : `color`}:\n        ${isDarkMode ? darkModeColor.textColor1 : whiteModeColor.textColor1};\n      `}\n      onClick={() => onClick(tag)}\n    >\n      {tag}\n    </button>\n  )\n}\n\nexport default Tag\n","import React from \"react\"\nimport tw from \"twin.macro\"\nimport queryString from \"query-string\"\nimport { AiOutlineSearch } from \"react-icons/ai\"\nimport Divider from \"./Divider\"\nimport { navigate } from \"gatsby\"\n\nconst Search = ({ value, onChange, location }) => {\n  const handlePress = (e) => {\n    if (e.key === \"Enter\") {\n      e.target.blur()\n    }\n  }\n\n  const handleBlur = (e) => {\n    const {\n      query: { query, tag },\n    } = queryString.parseUrl(location.href)\n    if (query !== value.trim())\n      if (tag && tag !== \"ALL\") {\n        navigate(`?query=${value.trim()}&tag=${tag}`)\n      } else {\n        navigate(`?query=${value.trim()}`)\n      }\n  }\n\n  return (\n    <>\n      <div css={tw`my-4 p-4 w-full`}>\n        <div css={tw`flex mb-2`}>\n          <AiOutlineSearch css={tw`text-gray-500 my-auto w-8 h-8`} />\n          <input\n            css={tw`appearance-none focus:outline-none w-full ml-2 bg-transparent placeholder-gray-600`}\n            placeholder={\"검색어를 입력해주세요.\"}\n            value={value}\n            onChange={onChange}\n            onKeyPress={handlePress}\n            onBlur={handleBlur}\n          />\n        </div>\n        <Divider color />\n      </div>\n    </>\n  )\n}\n\nexport default Search\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\"\nimport tw from \"twin.macro\"\nimport SEO from \"../components/seo\"\nimport Layout from \"../components/Layout\"\nimport { graphql, navigate } from \"gatsby\"\nimport queryString from \"query-string\"\nimport Search from \"../components/Search\"\nimport Post from \"../components/Post\"\nimport Tags from \"../components/Tags\"\nimport Tag from \"../components/Tag\"\n\nconst Wrapper = tw.div`w-full max-w-screen-md mx-auto`\n\nexport default ({ data, location }) => {\n  const posts = data.allMarkdownRemark.edges ? data.allMarkdownRemark.edges : []\n  const tags = useMemo(() => {\n    var result = []\n    posts.map(({ node }) => (result = [...result, ...node.frontmatter.tags]))\n    for (var i = 0; i < result.length; ++i) {\n      for (var j = i + 1; j < result.length; ++j) {\n        if (result[i] === result[j]) result.splice(j--, 1)\n      }\n    }\n    return result\n  }, [posts])\n\n  const [state, setState] = useState({\n    query: \"\",\n    tag: \"ALL\",\n    filteredData: [],\n  })\n\n  const onTagClick = (tag) => {\n    if (state.query !== \"\") {\n      navigate(`?query=${state.query}&tag=${tag}`)\n    } else {\n      navigate(`?tag=${tag}`)\n    }\n    searchPost(state.query, tag)\n  }\n\n  const handleChange = (query) => {\n    if (query.trim() === state.query.trim()) {\n      setState({\n        ...state,\n        query,\n      })\n      return\n    }\n    searchPost(query, state.tag)\n  }\n\n  const searchPost = useCallback(\n    (query, tag) => {\n      if (query.trim() === \"\") {\n        setState({\n          query,\n          tag,\n          filteredData: [],\n        })\n        return\n      }\n\n      const filteredData = posts.filter((post) => {\n        const searchQuery = query.toLowerCase().trim()\n        const {\n          rawMarkdownBody,\n          frontmatter: { title, tags },\n        } = post.node\n        if (tag === \"ALL\") {\n          return (\n            (rawMarkdownBody &&\n              rawMarkdownBody.toLowerCase().includes(searchQuery)) ||\n            (title && title.toLowerCase().includes(searchQuery))\n          )\n        }\n        if (tags.includes(tag))\n          return (\n            (rawMarkdownBody &&\n              rawMarkdownBody.toLowerCase().includes(searchQuery)) ||\n            (title && title.toLowerCase().includes(searchQuery))\n          )\n      })\n\n      setState({\n        tag: tag,\n        query: query,\n        filteredData: filteredData,\n      })\n    },\n    [posts]\n  )\n\n  useEffect(() => {\n    if (location.href) {\n      const {\n        query: { query, tag },\n      } = queryString.parseUrl(location.href)\n      searchPost(query ? query : \"\", tag ? tag : \"ALL\")\n    }\n  }, [searchPost, location.href])\n\n  return (\n    <Layout>\n      <SEO title=\"Page Not Found\" />\n      <Wrapper>\n        <Search\n          value={state.query}\n          onChange={(e) => handleChange(e.target.value)}\n          location={location}\n        />\n        <div css={tw`mx-4 mt-4`}>\n          <Tag\n            tag={\"ALL\"}\n            selectedTag={state.tag}\n            index={\"default\"}\n            onClick={onTagClick}\n          />\n          <Tags tags={tags.sort()} onClick={onTagClick} tag={state.tag} />\n        </div>\n        {state.filteredData.map((post, index) => (\n          <Post post={post} key={`post_${index}`} />\n        ))}\n      </Wrapper>\n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { frontmatter: { draft: { eq: false } } }\n    ) {\n      edges {\n        node {\n          excerpt(pruneLength: 200, truncate: true)\n          rawMarkdownBody\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD YYYY\")\n            title\n            tags\n          }\n        }\n      }\n    }\n  }\n`\n","import React, { useContext } from \"react\"\nimport ThemeContext from \"../lib/context/ThemContext\"\nimport { darkModeColor, whiteModeColor } from \"../../them-color\"\nimport tw, { css } from \"twin.macro\"\n\nconst Divider = ({ vertical, color, margin, fat }) => {\n  const { isDarkMode } = useContext(ThemeContext)\n  return (\n    <>\n      <div\n        css={\n          vertical\n            ? [tw`h-full flex justify-center`, margin && tw`my-2`]\n            : [tw`flex justify-center`, margin && tw`mx-2`]\n        }\n      >\n        <div\n          css={[\n            tw`rounded-full`,\n            fat\n              ? vertical\n                ? tw`h-full w-1 my-auto`\n                : tw`w-full h-1`\n              : vertical\n              ? tw`h-full w-px my-auto`\n              : tw`w-full h-px`,\n            isDarkMode ? tw`bg-gray-800` : tw`bg-gray-100`,\n            color &&\n              css`\n                background: linear-gradient(\n                  ${vertical ? \"180\" : \"270\"}deg,\n                  ${isDarkMode\n                    ? darkModeColor.mainColor1 +\n                      \",\" +\n                      darkModeColor.mainColor2 +\n                      \",\" +\n                      darkModeColor.mainColor3\n                    : whiteModeColor.mainColor1 +\n                      \",\" +\n                      whiteModeColor.mainColor2 +\n                      \",\" +\n                      whiteModeColor.mainColor3}\n                );\n              `,\n          ]}\n        ></div>\n      </div>\n    </>\n  )\n}\n\nexport default Divider\n","import React from \"react\"\nimport Tag from \"./Tag\"\n\nconst Tags = ({ tags, onClick, tag: selectedTag }) => {\n  return tags.map((tag, index) => (\n    <Tag\n      tag={tag}\n      selectedTag={selectedTag}\n      key={`tag_${index}`}\n      onClick={onClick}\n    />\n  ))\n}\n\nexport default Tags\n"],"sourceRoot":""}